(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3392:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,5657,23)),Promise.resolve().then(o.bind(o,8957))},4733:(e,t,o)=>{"use strict";o.d(t,{gO:()=>l,gH:()=>u});var r=o(5322),n=o(1682);async function i(e){return console.log("\uD83E\uDDE0 Initializing FHEVM SDK with config:",e),await new Promise(e=>setTimeout(e,500)),console.log("✅ FHEVM SDK initialized"),{encryptUint32:e=>({encryptedValue:"enc_".concat(e,"_").concat(Math.random().toString(36).substring(2,8)),proof:"proof_".concat(Date.now())}),decryptUint32(e,t){console.log("\uD83D\uDD13 decrypt called:",e,t);try{let t=e.split("_");return Number(t[1])||0}catch(e){return console.error("解密失败:",e),0}}}}var a=o(6326),s=o.n(a);let c=(0,n.createContext)(null);function l(e){let{children:t}=e,[o,a]=(0,n.useState)(null),[l,u]=(0,n.useState)(""),[d,m]=(0,n.useState)(0xaa36a7);return(0,n.useEffect)(()=>{(async function(){try{console.log("\uD83D\uDD0D 检查钱包中...");let e=await s()();if(!e){alert("❌ 未检测到钱包插件，请安装 MetaMask！");return}console.log("\uD83D\uDD17 正在请求连接钱包...");let t=await e.request({method:"eth_requestAccounts"}),o=await e.request({method:"eth_chainId"}),r=parseInt(o,16);console.log("✅ 钱包已连接:",t[0]),console.log("\uD83C\uDF10 当前网络:",r),u(t[0]),m(r),console.log("\uD83D\uDE80 初始化 FHEVM SDK...");let n=await i({chainId:r,rpcUrl:"https://rpc.sepolia.org",contractAddress:"0x9F8069282814a1177C1f6b8D7d8f7cC11A663554"});console.log("✅ FHEVM SDK 初始化成功"),a(n)}catch(e){console.error("❌ FHEVMProvider 初始化失败:",e)}})()},[]),(0,r.jsx)(c.Provider,{value:{fhevm:o,account:l,chainId:d},children:t})}function u(){let e=(0,n.useContext)(c);if(!e)throw Error("useFHEVM must be used within a FHEVMProvider");return e}},5657:()=>{},6326:e=>{"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:o=3e3}={}){if("boolean"!=typeof e)throw Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof o)throw Error("@metamask/detect-provider: Expected option 'timeout' to be a number.");let r=!1;return new Promise(n=>{window.ethereum?i():(window.addEventListener("ethereum#initialized",i,{once:!0}),setTimeout(()=>{i()},o));function i(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",i);let{ethereum:o}=window;if(o&&(!e||o.isMetaMask))n(o);else{let r=e&&o?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";t||console.error("@metamask/detect-provider:",r),n(null)}}})}},8957:(e,t,o)=>{"use strict";o.d(t,{Providers:()=>a});var r=o(5322);o(1682);var n=o(4733);function i(e){let{children:t}=e;return console.log("\uD83D\uDE80 FHEVMRootProvider mounted (client)"),(0,r.jsx)(n.gO,{children:t})}function a(e){let{children:t}=e;return console.log("✅ Providers mounted (client)"),(0,r.jsx)(i,{children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[382,237,597,358],()=>t(3392)),_N_E=e.O()}]);